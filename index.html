<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Inicio | Dulce Postre</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>

<header>
  <img src="img/logo.png" alt="Logo" class="logo">
  <div><h2>POSTRES Y SNACKS</h2></div>
</header>

<nav>
  <a href="index.html">Inicio</a>
  <a href="postres.html">Postres</a>
  <a href="snacks.html">Snacks</a>
</nav>

<main>

  <div class="welcome-text">
    <h2>¬°BIENVENIDOS!</h2>
  </div>

  <section class="hero">
    <img src="img/principal.jpg" class="img-bienvenida" alt="Bienvenida">
  </section>

  <h2 class="descubre">Descubre nuestro men√∫</h2>
  <p class="subtexto">Explora sabores √∫nicos en nuestra secci√≥n de POSTRES y SNACKS.</p>

  <!-- Horario Compacto -->
  <div id="horario-compacto">
    <h2 id="titulo">Horario</h2>
    <div id="reloj"></div>
    <div id="estado"></div>
    <ul id="dias">
      <li data-dia="5,6,0">Viernes a Domingo de: <strong>17:00 a 23:00 hrs</strong></li>
    </ul>
  </div>

</main>

<footer class="footer">
  <div class="footer-direccion">
    <p>
      Calle Emiliano Zapata, San Pedro Abajo 1.¬™ secci√≥n<br>
      (Frente al centro de salud)<br>
      Temoaya, Estado de M√©xico
    </p>
  </div>

  <div class="footer-botones">
    <a href="https://www.google.com/maps/dir/Current+Location/19.4788806,-99.5798941" target="_blank" class="btn-mapa">üìç C√≥mo llegar</a>

    <a href="https://wa.me/5217203173783?text=¬°Hola!%20me%20podria%20hacer%20un%20pedido%20a%20domicilio" target="_blank" class="btn-whatsapp">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"> ORDENAR
    </a>
  </div>
</footer>

<script>
// üïê Reloj en vivo
function actualizarReloj() {
  const reloj = document.getElementById("reloj");
  const ahora = new Date();
  let h = ahora.getHours(), m = ahora.getMinutes(), s = ahora.getSeconds();
  reloj.textContent = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}

// üü¢ Estado abierto/cerrado
let ultimoEstado = "";
function actualizarEstado() {
  const ahora = new Date();
  const hoy = ahora.getDay();
  const estado = document.getElementById("estado");
  let abierto = false;

  if ([5,6,0].includes(hoy)) {
    const ahoraMin = ahora.getHours() * 60 + ahora.getMinutes();
    abierto = ahoraMin >= 17 * 60 && ahoraMin <= 23 * 60;
  }

  estado.textContent = abierto ? "üü¢ Abierto" : "üî¥ Cerrado";
  estado.style.color = abierto ? "green" : "red";
  estado.style.boxShadow = `0 0 8px ${abierto ? "green" : "red"}`;
  if (abierto && ultimoEstado !== "abierto") {
    estado.classList.add("open-anim");
    setTimeout(()=> estado.classList.remove("open-anim"), 500);
  }
  ultimoEstado = abierto ? "abierto" : "cerrado";
}

// ‚ú® Resaltar d√≠a actual
function resaltarDia() {
  const dias = document.querySelectorAll("#dias li");
  const hoy = new Date().getDay();
  dias.forEach(li => {
    const diasArray = li.dataset.dia.split(",").map(Number);
    if (diasArray.includes(hoy)) li.classList.add("dia-actual");
  });
  ajustarColores();
  actualizarEstado();
}

// üé® Ajuste de colores seg√∫n fondo
function ajustarColores() {
  let bodyStyles = window.getComputedStyle(document.body);
  let bgColor = bodyStyles.backgroundColor || "rgb(255,255,255)";
  let rgb = bgColor.match(/\d+/g);
  let brightness = (parseInt(rgb[0])*299 + parseInt(rgb[1])*587 + parseInt(rgb[2])*114)/1000;
  let textoColor = brightness > 128 ? "#000" : "#fff";
  let brilloColor = brightness > 128 ? "rgba(241,196,15,1)" : "rgba(255,255,0,1)";
  document.getElementById("titulo").style.color = textoColor;
  document.getElementById("reloj").style.color = textoColor;
  document.querySelectorAll("#dias li").forEach(li=>li.style.color = textoColor);
  document.documentElement.style.setProperty("--brillo-color", brilloColor);
  document.querySelectorAll(".dia-actual").forEach(li=>{
    li.style.backgroundColor = brightness > 128 ? "rgba(241,196,15,0.5)" : "rgba(255,255,0,0.5)";
  });
}

// üöÄ Inicializar
setInterval(()=>{ actualizarReloj(); actualizarEstado(); }, 1000);
window.onload = ()=>{
  actualizarReloj();
  resaltarDia();
};
</script>

</body>
</html>